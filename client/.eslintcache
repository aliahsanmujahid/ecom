[{"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\index.js":"1","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\App.js":"2","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\Routes.js":"3","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\Home.js":"4","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\Cart.js":"5","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\user\\Signup.js":"6","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\user\\UserDashboard.js":"7","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\user\\Signin.js":"8","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\auth\\helper\\PrivateRoutes.js":"9","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\Base.js":"10","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\Card.js":"11","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\PaymentB.js":"12","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\helper\\coreapicalls.js":"13","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\helper\\cartHelper.js":"14","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\auth\\helper\\index.js":"15","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\helper\\ImageHelper.js":"16","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\helper\\paymentHelper.js":"17","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\Menu.js":"18","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\helper\\orderHelper.js":"19","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\backend.js":"20"},{"size":178,"mtime":1607715744665,"results":"21","hashOfConfig":"22"},{"size":528,"mtime":499162500000,"results":"23","hashOfConfig":"22"},{"size":776,"mtime":1607715757354,"results":"24","hashOfConfig":"22"},{"size":972,"mtime":1607715691894,"results":"25","hashOfConfig":"22"},{"size":1436,"mtime":1607715691892,"results":"26","hashOfConfig":"22"},{"size":3484,"mtime":1607715703243,"results":"27","hashOfConfig":"22"},{"size":233,"mtime":1607715703245,"results":"28","hashOfConfig":"22"},{"size":3680,"mtime":1607715703240,"results":"29","hashOfConfig":"22"},{"size":572,"mtime":1607715678061,"results":"30","hashOfConfig":"22"},{"size":1033,"mtime":1607715691883,"results":"31","hashOfConfig":"22"},{"size":2424,"mtime":1607715691884,"results":"32","hashOfConfig":"22"},{"size":4296,"mtime":1607715691899,"results":"33","hashOfConfig":"22"},{"size":229,"mtime":1607715691909,"results":"34","hashOfConfig":"22"},{"size":1098,"mtime":1607715691907,"results":"35","hashOfConfig":"22"},{"size":1955,"mtime":1607715678063,"results":"36","hashOfConfig":"22"},{"size":496,"mtime":1607715691904,"results":"37","hashOfConfig":"22"},{"size":714,"mtime":1607715691912,"results":"38","hashOfConfig":"22"},{"size":2176,"mtime":1607715691897,"results":"39","hashOfConfig":"22"},{"size":422,"mtime":1607715691911,"results":"40","hashOfConfig":"22"},{"size":50,"mtime":1607715426538,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"1w386eq",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"44"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"44"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"44"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"44"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"44"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\index.js",[],["88","89"],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\App.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\Routes.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\Home.js",["90"],"import React, { useState, useEffect } from \"react\";\n\nimport { getProducts } from \"./helper/coreapicalls\";\nimport Base from \"./Base\";\n\nimport \"../styles.css\";\nimport Card from \"./Card\";\n\nexport default function Home() {\n  const [products, setProducts] = useState([]);\n  const [error, setError] = useState(false);\n\n  const loadAllProducts = () => {\n    getProducts()\n      .then((data) => {\n        if (data.error) {\n          setError(data.error);\n          console.log(error);\n        } else {\n          setProducts(data);\n        }\n      });\n  };\n\n  useEffect(() => {\n    loadAllProducts();\n  }, []);\n\n  return (\n    <Base title=\"Home Page\" description=\"Welcome to Tshirt store\">\n      <h1>Home component</h1>\n      <div className=\"row\">\n        {products.map((product, index) => {\n          return (\n            <div key={index} className=\"col-4 mb-4\">\n              <Card product={product} />\n            </div>\n          );\n        })}\n      </div>\n    </Base>\n  );\n}\n","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\Cart.js",["91"],"import React, { useState, useEffect } from \"react\";\nimport Base from \"./Base\";\n\nimport Card from \"./Card\";\nimport { loadCart } from \"./helper/cartHelper\";\nimport PaymentB from \"./PaymentB\";\n\nconst Cart = () => {\n  const [reload, setReload] = useState(false);\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    setProducts(loadCart());\n  }, [reload]);\n\n  const loadAllProducts = (products) => {\n    return (\n      <div>\n        {products.map((product, index) => (\n          <Card\n            key={index}\n            product={product}\n            removeFromCart={true}\n            addtoCart={false}\n            reload={reload}\n            setReload={setReload}\n          />\n        ))}\n      </div>\n    );\n  };\n\n  const loadCheckout = () => {\n    return (\n      <div>\n        <h1>Checkout</h1>\n      </div>\n    );\n  };\n\n  return (\n    <Base title=\"Cart page\" description=\"Welcome to checkout\">\n      <div className=\"row text-center\">\n        <div className=\"col-6\">\n          {products.length > 0 ? (loadAllProducts(products)) : (\n            <h4>No products</h4>\n          )}\n        </div>\n        <div className=\"col-6\">\n          {products.length > 0\n            ? (\n              <PaymentB products={products} setReload={setReload} />\n            )\n            : (\n              <h3>Please login or add something in cart</h3>\n            )}\n        </div>\n      </div>\n    </Base>\n  );\n};\n\nexport default Cart;\n","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\user\\Signup.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\user\\UserDashboard.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\user\\Signin.js",["92","93","94","95"],"import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nimport Base from \"../core/Base\";\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\n\nconst Signin = () => {\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"ten@hitesh.com\",\n    password: \"12345\",\n    error: \"\",\n    success: false,\n    loading: false,\n    didRedirect: false,\n  });\n  const { name, email, password, error, success, loading, didRedirect } =\n    values;\n\n  const handleChange = (name) =>\n    (event) => {\n      setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n  const onSumit = (event) => {\n    event.preventDefault();\n    setValues({ ...values, error: false, loading: true });\n\n    signin({ email, password })\n      .then((data) => {\n        console.log(\"DATA\", data);\n        if (data.token) {\n          //let sessionToken = data.token;\n          authenticate(data, () => {\n            console.log(\"TOKKEN ADDED\");\n            setValues({\n              ...values,\n              didRedirect: true,\n            });\n          });\n        } else {\n          setValues({\n            ...values,\n            loading: false,\n          });\n        }\n      })\n      .catch((e) => console.log(e));\n  };\n\n  const performRedirect = () => {\n    if (isAuthenticated()) {\n      return <Redirect to=\"/\" />;\n    }\n  };\n\n  const loadingMessage = () => {\n    return (\n      loading && (\n        <div className=\"alert alert-info\">\n          <h2>Loading...</h2>\n        </div>\n      )\n    );\n  };\n\n  const successMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-success\"\n            style={{ display: success ? \"\" : \"none\" }}\n          >\n            New account created successfully. Please <Link\n              to=\"/signin\"\n            >\n              login now.\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const errorMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n          >\n            Check all fields again\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const signInForm = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <form>\n            <div className=\"form-group\">\n              <label className=\"text-light\">Email</label>\n              <input\n                name=\"email\"\n                className=\"form-control\"\n                value={email}\n                onChange={handleChange(\"email\")}\n                type=\"text\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-light\">password</label>\n              <input\n                name=\"password\"\n                className=\"form-control\"\n                value={password}\n                onChange={handleChange(\"password\")}\n                type=\"password\"\n              />\n            </div>\n            <button\n              onClick={onSumit}\n              className=\"btn btn-success btn-block\"\n            >\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <Base title=\"Welcome to sign in page\" description=\"A tshirt store\">\n      {loadingMessage()}\n\n      {signInForm()}\n      <p className=\"text-center\">\n        {JSON.stringify(values)}\n      </p>\n      {performRedirect()}\n    </Base>\n  );\n};\n\nexport default Signin;\n","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\auth\\helper\\PrivateRoutes.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\Base.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\Card.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\PaymentB.js",["96","97","98","99","100","101"],"import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { cartEmpty } from \"./helper/cartHelper\";\nimport { getmeToken, processPayment } from \"./helper/paymentHelper\";\nimport { createOrder } from \"./helper/orderHelper\";\nimport { isAuthenticated, signout } from \"../auth/helper\";\n\nimport DropIn from \"braintree-web-drop-in-react\";\n\nconst PaymentB = ({\n  products,\n  reload = undefined,\n  setReload = (f) => f,\n}) => {\n  const [info, setInfo] = useState({\n    loading: false,\n    success: false,\n    clientToken: null,\n    error: \"\",\n    instance: {},\n  });\n\n  const userId = isAuthenticated && isAuthenticated().user.id;\n  const token = isAuthenticated && isAuthenticated().token;\n\n  const getToken = (userId, token) => {\n    getmeToken(userId, token)\n      .then((info) => {\n        if (info.error) {\n          setInfo({\n            ...info,\n            error: info.error,\n          });\n          signout(() => {\n            return <Redirect to=\"/\" />;\n          });\n        } else {\n          const clientToken = info.clientToken;\n          setInfo({ clientToken });\n        }\n      });\n  };\n\n  useEffect(() => {\n    getToken(userId, token);\n  }, []);\n\n  const getAmount = () => {\n    let amount = 0;\n    products.map((p) => {\n      amount = amount + parseInt(p.price);\n    });\n    return amount;\n  };\n  const onPurchase = () => {\n    setInfo({ loading: true });\n    let nonce;\n    let getNonce = info.instance.requestPaymentMethod().then((data) => {\n      console.log(\"MYDATA\", data);\n      nonce = data.nonce;\n      const paymentData = {\n        paymentMethodNonce: nonce,\n        amount: getAmount(),\n      };\n      processPayment(userId, token, paymentData)\n        .then((response) => {\n          console.log(\"POINT-1\", response);\n          if (response.error) {\n            if (response.code == \"1\") {\n              console.log(\"PAYMENT Failed!\");\n              signout(() => {\n                return <Redirect to=\"/\" />;\n              });\n            }\n          } else {\n            setInfo({ ...info, success: response.success, loading: false });\n            console.log(\"PAYMENT SUCCESS\");\n\n            let product_names = \"\";\n            products.forEach(function (item) {\n              product_names += item.name + \", \";\n            });\n\n            const orderData = {\n              products: product_names,\n              transaction_id: response.transaction.id,\n              amount: response.transaction.amount,\n            };\n            createOrder(userId, token, orderData)\n              .then((response) => {\n                if (response.error) {\n                  if (response.code == \"1\") {\n                    console.log(\"Order Failed!\");\n                    signout(() => {\n                      return <Redirect to=\"/\" />;\n                    });\n                  }\n                } else {\n                  if (response.success == true) {\n                    console.log(\"ORDER PLACED!!\");\n                  }\n                }\n              })\n              .catch((error) => {\n                setInfo({ loading: false, success: false });\n                console.log(\"Order FAILED\", error);\n              });\n            cartEmpty(() => {\n              console.log(\"Did we got a crash?\");\n            });\n\n            setReload(!reload);\n          }\n        })\n        .catch((error) => {\n          setInfo({ loading: false, success: false });\n          console.log(\"PAYMENT FAILED\", error);\n        });\n    });\n  };\n\n  const showbtnDropIn = () => {\n    return (\n      <div>\n        {info.clientToken !== null && products.length > 0\n          ? (\n            <div>\n              <DropIn\n                options={{ authorization: info.clientToken }}\n                onInstance={(instance) => (info.instance = instance)}\n              >\n              </DropIn>\n              <button\n                onClick={onPurchase}\n                className=\"btn btn-block btn-success\"\n              >\n                Buy Now\n              </button>\n            </div>\n          )\n          : (\n            <h3>Please login first or add something in cart</h3>\n          )}\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <h3>Your bill is $ {getAmount()}</h3>\n      {showbtnDropIn()}\n    </div>\n  );\n};\n\nexport default PaymentB;\n","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\helper\\coreapicalls.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\helper\\cartHelper.js",["102"],"export const addItemToCart = (item, next) => {\n  let cart = [];\n  if (typeof window !== undefined) {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n\n    cart.push({\n      ...item,\n    });\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    next();\n  }\n};\n\nexport const loadCart = () => {\n  if (typeof window !== undefined) {\n    if (localStorage.getItem(\"cart\")) {\n      return JSON.parse(localStorage.getItem(\"cart\"));\n    }\n  }\n};\n\nexport const removeItemFromCart = (productId) => {\n  let cart = [];\n  if (typeof window !== undefined) {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n    cart.map((product, i) => {\n      if (product.id === productId) {\n        cart.splice(i, 1);\n      }\n    });\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }\n  return cart;\n};\n\nexport const cartEmpty = (next) => {\n  if (typeof window !== undefined) {\n    localStorage.removeItem(\"cart\");\n    let cart = [];\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    next();\n  }\n};\n","C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\auth\\helper\\index.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\helper\\ImageHelper.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\helper\\paymentHelper.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\Menu.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\core\\helper\\orderHelper.js",[],"C:\\Users\\mujahid\\Desktop\\Running Project\\ecom\\client\\src\\backend.js",[],{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","severity":1,"message":"108","line":27,"column":6,"nodeType":"109","endLine":27,"endColumn":8,"suggestions":"110"},{"ruleId":"111","severity":1,"message":"112","line":33,"column":9,"nodeType":"113","messageId":"114","endLine":33,"endColumn":21},{"ruleId":"111","severity":1,"message":"115","line":17,"column":11,"nodeType":"113","messageId":"114","endLine":17,"endColumn":15},{"ruleId":"111","severity":1,"message":"116","line":17,"column":59,"nodeType":"113","messageId":"114","endLine":17,"endColumn":70},{"ruleId":"111","severity":1,"message":"117","line":67,"column":9,"nodeType":"113","messageId":"114","endLine":67,"endColumn":23},{"ruleId":"111","severity":1,"message":"118","line":86,"column":9,"nodeType":"113","messageId":"114","endLine":86,"endColumn":21},{"ruleId":"107","severity":1,"message":"119","line":46,"column":6,"nodeType":"109","endLine":46,"endColumn":8,"suggestions":"120"},{"ruleId":"121","severity":1,"message":"122","line":50,"column":22,"nodeType":"123","messageId":"124","endLine":50,"endColumn":24},{"ruleId":"111","severity":1,"message":"125","line":58,"column":9,"nodeType":"113","messageId":"114","endLine":58,"endColumn":17},{"ruleId":"126","severity":1,"message":"127","line":69,"column":31,"nodeType":"128","messageId":"129","endLine":69,"endColumn":33},{"ruleId":"126","severity":1,"message":"127","line":92,"column":37,"nodeType":"128","messageId":"129","endLine":92,"endColumn":39},{"ruleId":"126","severity":1,"message":"127","line":99,"column":40,"nodeType":"128","messageId":"129","endLine":99,"endColumn":42},{"ruleId":"121","severity":1,"message":"122","line":30,"column":27,"nodeType":"123","messageId":"124","endLine":30,"endColumn":29},"no-native-reassign",["130"],"no-negated-in-lhs",["131"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadAllProducts'. Either include it or remove the dependency array.","ArrayExpression",["132"],"no-unused-vars","'loadCheckout' is assigned a value but never used.","Identifier","unusedVar","'name' is assigned a value but never used.","'didRedirect' is assigned a value but never used.","'successMessage' is assigned a value but never used.","'errorMessage' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'token' and 'userId'. Either include them or remove the dependency array.",["133"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'getNonce' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation",{"desc":"134","fix":"135"},{"desc":"136","fix":"137"},"Update the dependencies array to be: [loadAllProducts]",{"range":"138","text":"139"},"Update the dependencies array to be: [token, userId]",{"range":"140","text":"141"},[597,599],"[loadAllProducts]",[1195,1197],"[token, userId]"]